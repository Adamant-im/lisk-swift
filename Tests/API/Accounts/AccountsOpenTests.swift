//
//  AccountsOpenTests.swift
//  LiskTests
//
//  Created by Andrew Barba on 1/1/18.
//

import XCTest
@testable import Lisk

class AccountsOpenTests: LiskTestCase {

    func testCryptoKeys() {
        let (publicKey, _) = try! Crypto.keys(fromSecret: exampleSecret)
        XCTAssertEqual(publicKey, examplePublicKey)
        let address = Crypto.address(fromPublicKey: publicKey)
        XCTAssertEqual(address, exampleAddress)
    }

    func testMainnetOpen() {
        let accounts = Accounts(client: mainNetClient)
        let response = tryRequest { accounts.open(secret: exampleSecret, completionHandler: $0) }
        XCTAssert(response.success)
        XCTAssertEqual(response.account.address, exampleAddress)
    }
}
